import{_ as s,o as e,c as a,$ as t}from"./chunks/framework.9fa1e75e.js";const m=JSON.parse('{"title":"Setting up","description":"","frontmatter":{"prev":{"text":"Technical Overview","link":" guide/technical-overview.md"},"next":{"text":"ðŸ“š Cookbooks","link":"cookbook/index.md"}},"headers":[],"relativePath":"guide/setting-up.md","filePath":"guide/setting-up.md","lastUpdated":1690289066000}'),o={name:"guide/setting-up.md"},n=t(`<h1 id="setting-up" tabindex="-1">Setting up <a class="header-anchor" href="#setting-up" aria-label="Permalink to &quot;Setting up&quot;">â€‹</a></h1><p>This article covers the first steps to get started. MacOS and Linux users can dive right in. If you have Windows, please follow our <a href="./../cookbook/windows-development.html">Windows development</a> cookbook article first. For technical reliability and technical support, we require that Windows users develop using the Windows Subsystem for Linux (WSL 2) or a Linux virtual machine.</p><h2 id="system-requirements" tabindex="-1">System requirements <a class="header-anchor" href="#system-requirements" aria-label="Permalink to &quot;System requirements&quot;">â€‹</a></h2><table><thead><tr><th>Software</th><th>Minimum Version</th></tr></thead><tbody><tr><td><a href="https://nodejs.org/en/" target="_blank" rel="noreferrer">Node.js</a></td><td>16.x+</td></tr><tr><td><a href="https://docs.mongodb.com/manual/administration/install-community/" target="_blank" rel="noreferrer">MongoDB</a></td><td>4.2+</td></tr></tbody></table><p>See the links above to install each. To check that these are installed in your environment, try the following commands:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># This will display your Node.js version and npm version (installed with Node),</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># if installed.</span></span>
<span class="line"><span style="color:#FFCB6B;">mongod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--version</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># This will display your MongoDB version, if installed.</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">NOTE</p><p><a href="https://imagemagick.org/script/download.php" target="_blank" rel="noreferrer">ImageMagick</a> can be used if your system doesn&#39;t support the default npm <a href="https://www.npmjs.com/package/sharp" target="_blank" rel="noreferrer"><code>sharp</code> package</a>. It provides the <code>convert</code> and <code>identify</code> command line tools, which Apostrophe uses to scale and crop images quickly. Apostrophe will automatically install <code>sharp</code> when you <code>npm install</code> your project, you do not have to add it yourself. If for any reason Apostrophe is unable to install its <code>sharp</code> dependency and <code>ImageMagick</code> has been installed on your system, Apostrophe will fall back to <code>ImageMagick</code> automatically.</p></div><h2 id="the-apostrophe-cli-tool" tabindex="-1">The Apostrophe CLI tool <a class="header-anchor" href="#the-apostrophe-cli-tool" aria-label="Permalink to &quot;The Apostrophe CLI tool&quot;">â€‹</a></h2><p>There is <a href="https://www.npmjs.com/package/@apostrophecms/cli" target="_blank" rel="noreferrer">an official CLI</a> (Command Line Interface) for quickly setting up starter code for your Apostrophe project. Once in a project it can also help add new module code with a single command so you can focus on the unique parts rather than copying or remembering boilerplate. Keep an eye out for updates once it is installed since it will continue to evolve to help with additional tasks.</p><p>Install the CLI tool:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@apostrophecms/cli</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Or \`yarn global add @apostrophecms/cli\`, if you prefer. We&#39;ll stick to npm commands.</span></span></code></pre></div><p>Once installed you have access to the <code>apos</code> command. Simply use that command, or <code>apos --help</code>, to see a list of additional commands anytime.</p><p><strong>The CLI is not required</strong> to work with Apostrophe. It primarily makes developing with Apostrophe faster and takes care of the more repetitive tasks during development.</p><h2 id="creating-a-project" tabindex="-1">Creating a project <a class="header-anchor" href="#creating-a-project" aria-label="Permalink to &quot;Creating a project&quot;">â€‹</a></h2><p>Before creating a project, make sure you start <a href="https://docs.mongodb.com/manual/administration/install-community/" target="_blank" rel="noreferrer">MongoDB</a> locally following their instructions. MongoDB can be configured to run all the time or started as needed, but it must be up and running to provide a place for ApostropheCMS to store its information.</p><p>The easiest way to get started with Apostrophe is to use the official starter project. If you have the CLI installed, go into your normal projects directory and use the command:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">apos</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apos-app</span></span></code></pre></div><p>The CLI will take care of installing dependencies and walk you through creating the first user. You can then skip down to the <a href="#finishing-touches">&quot;Finishing touches&quot;</a> section. <em>If you don&#39;t want to use the CLI</em>, or if you want to see other things it does for you, continue on.</p><p>To get started quickly without the CLI, clone the starter repository:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://github.com/apostrophecms/a3-boilerplate</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apos-app</span></span></code></pre></div><p>If you want to change the project directory name, please do so. We will continue referring to <code>apos-app</code>.</p><p>Open the <code>app.js</code> file in the root project directory. Find the <code>shortName</code> setting and change it to match your project (only letters, digits, hyphens and/or underscores). This will be used as the name of your database.</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// app.js</span></span>
<span class="line"><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">apostrophe</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">shortName</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">apos-app</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// ðŸ‘ˆ</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">modules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span></code></pre></div><p>Excellent! Back in your terminal we&#39;ll install dependencies:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span></span></code></pre></div><p>Before starting up you&#39;ll need to create an admin-level user so that you can log in. After running the following command, Apostrophe will ask you to enter a password for this user.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">app</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@apostrophecms/user:add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">my-user</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">admin</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Replace \`my-user\` with the name you want for your first user.</span></span></code></pre></div><h3 id="finishing-touches" tabindex="-1">Finishing touches <a class="header-anchor" href="#finishing-touches" aria-label="Permalink to &quot;Finishing touches&quot;">â€‹</a></h3><p>You should also update the <a href="https://github.com/expressjs/session#secret" target="_blank" rel="noreferrer">session secret for Express.js</a> to a unique, random string. The starter project has a placeholder for this option already. If you do not update this, you will see a warning each time the app starts up.</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// modules/@apostrophecms/express/index.js</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">options</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">session</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// If this still says \`undefined\`, set a real secret!</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">secret</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">undefined</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><h3 id="starting-up-the-website" tabindex="-1">Starting up the website <a class="header-anchor" href="#starting-up-the-website" aria-label="Permalink to &quot;Starting up the website&quot;">â€‹</a></h3><p>Start the site with <code>npm run dev</code>. The app will then watch for changes in client-side code, rebuilds it, then refresh the browser when it detects any. You can log in with the username and password you created at <a href="http://localhost:3000/login" target="_blank" rel="noreferrer">http://localhost:3000/login</a>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>If you are starting the site in a production environment or do not want the process to watch for changes, start the site with <code>node app.js</code>.</p></div><h2 id="next-steps" tabindex="-1">Next steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next steps&quot;">â€‹</a></h2><p>Now that Apostrophe is installed, you&#39;re ready to start building. Check out the <a href="/guide/modules.html">guide</a> to learn about essential features with plenty of code examples. If you are looking to explore Apostrophe&#39;s inner workings peruse the <a href="/reference/glossary.html">reference guide</a>.</p>`,35),l=[n];function p(r,i,c,d,h,y){return e(),a("div",null,l)}const g=s(o,[["render",p]]);export{m as __pageData,g as default};
