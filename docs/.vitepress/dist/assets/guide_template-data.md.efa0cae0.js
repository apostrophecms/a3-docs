import{_ as o,K as a,o as s,c as d,k as t,O as n,a as e}from"./chunks/framework.9fa1e75e.js";const ft=JSON.parse('{"title":"Template data","description":"","frontmatter":{"prev":{"text":"Layout templates","link":"guide/layout-template.md"},"next":{"text":"Template filters","link":"guide/template-filters.md"}},"headers":[],"relativePath":"guide/template-data.md","filePath":"guide/template-data.md","lastUpdated":1690289066000}'),i={name:"guide/template-data.md"},u=t("h1",{id:"template-data",tabindex:"-1"},[e("Template data "),t("a",{class:"header-anchor",href:"#template-data","aria-label":'Permalink to "Template data"'},"â€‹")],-1),c=t("p",null,[e("All Apostrophe template files have access to a "),t("code",null,"data"),e(" object. It contains content data as well as additional information such as the page's URL and the active user. Some properties differ depending on the template type (e.g., "),t("code",null,"data.widget"),e(" is only available in widget templates).")],-1),r=t("p",null,"The table below lists the data properties available from Apostrophe core as well as the template types where they are available.",-1),p={class:"info custom-block"},h=t("p",{class:"custom-block-title"},"INFO",-1),g=t("p",null,[t("strong",null,"Template type indicators:")],-1),_=t("thead",null,[t("tr",null,[t("th",null,"Property"),t("th",null,"Description"),t("th",null,"Templates where present")])],-1),m=t("td",null,[t("code",null,"absoluteUrl")],-1),x=t("td",null,"The complete URL currently displayed, including base URL (with prefix, if set) and query parameters.",-1),f=t("td",null,[t("code",null,"aposBodyDataAttributes")],-1),y=t("td",null,[e("A string of JSON that Apostrophe applies to the "),t("code",null,"body"),e(" tag as data attributes. Used by the UI app.")],-1),b=t("td",null,[t("code",null,"baseUrl")],-1),A=t("td",null,[e("The site's configured "),t("code",null,"baseUrl"),e(" value. Typically the website's domain.")],-1),v=t("td",null,[t("code",null,"baseUrlWithPrefix")],-1),w=t("td",null,[e("The "),t("code",null,"baseUrl"),e(" value, plus the site's "),t("code",null,"prefix"),e(" value, if set.")],-1),S=t("td",null,[t("code",null,"bestPage")],-1),T=t("td",null,[e("Usually the same as "),t("code",null,"data.page"),e(". If no page is found for the URL (e.g., a 404 page) it will be the data object for the page that best matches the slug, going back to the home page.")],-1),W=t("td",null,[t("code",null,"contextOptions")],-1),U=t("td",null,[e("An object of "),t("a",{href:"/guide/areas-and-widgets.html#passing-context-options"},"context options"),e(", if passed in.")],-1),j=t("td",null,[t("code",null,"edit")],-1),k=t("td",null,[e("An alias of "),t("code",null,"data.bestPage._edit"),e(", indicating whether the active user has editing permissions for the "),t("code",null,"data.bestPage"),e(" document.")],-1),L=t("td",null,[t("code",null,"global")],-1),P=t("td",null,"The data object for the global doc.",-1),I=t("td",null,[t("code",null,"home")],-1),N=t("td",null,"The data object for the home page.",-1),R=t("td",null,[t("code",null,"locale")],-1),q=t("td",null,"The active locale.",-1),O=t("td",null,[t("code",null,"localizations")],-1),B=t("td",null,"An array of active locales including information about the active page in each.",-1),D=t("td",null,[t("code",null,"manager")],-1),$=t("td",null,"In widget templates, the widget module manager object.",-1),V=t("td",null,[t("code",null,"next")],-1),E=t("td",null,[e("If "),t("a",{href:"/reference/module-api/module-options.html#next"},[t("code",null,"next: true"),e(" is set on the piece page type")]),e(", the data object for the next piece in sort order.")],-1),J=t("td",null,[t("code",null,"options")],-1),z=t("td",null,null,-1),C=t("td",null,[t("code",null,"outerLayout")],-1),F=t("td",null,[e("A reference path to the outer layout template. Used in "),t("a",{href:"/guide/layout-template.html"},"layout templates"),e(".")],-1),K=t("td",null,[t("code",null,"page")],-1),G=t("td",null,[e("A data object for the active page "),t("em",null,"or"),e(" the index page in show page templates.")],-1),H=t("td",null,[t("code",null,"piece")],-1),M=t("td",null,"The piece data object in a show page template.",-1),Q=t("td",null,[t("code",null,"previous")],-1),X=t("td",null,[e("If "),t("a",{href:"/reference/module-api/module-options.html#previous"},[t("code",null,"previous: true"),e(" is set on the piece page type")]),e(", the data object for the previous piece in sort order.")],-1),Y=t("td",null,[t("code",null,"query")],-1),Z=t("td",null,"An object of query parameters from the request URL.",-1),tt=t("td",null,[t("code",null,"scene")],-1),et=t("td",null,[e('A string indicating the active "scene," or general user context. Either '),t("code",null,"'public'"),e(" or "),t("code",null,"'apos'"),e(".")],-1),lt=t("td",null,[t("code",null,"slug")],-1),nt=t("td",null,"The active page's slug.",-1),ot=t("td",null,[t("code",null,"url")],-1),at=t("td",null,"The active page's full relative URL, including query parameters.",-1),st=t("td",null,[t("code",null,"user")],-1),dt=t("td",null,[e("When a user is logged in, a data object for the active user. "),t("code",null,"null"),e(" if logged out.")],-1),it=t("td",null,[t("code",null,"widget")],-1),ut=t("td",null,"The widget data object in a widget template.",-1);function ct(rt,pt,ht,gt,_t,mt){const l=a("AposTag");return s(),d("div",null,[u,c,r,t("div",p,[h,g,t("ul",null,[t("li",null,[n(l,{text:"All pages"}),e(": The property is present in all page templates, including piece index pages and show pages.")]),t("li",null,[n(l,{text:"Show pages",tagStyle:0}),e(": The property is present in piece show page templates and not in other normal page templates.")]),t("li",null,[n(l,{text:"Widgets",tagStyle:1}),e(": The property is present in widget templates.")])])]),t("table",null,[_,t("tbody",null,[t("tr",null,[m,x,t("td",null,[n(l,{text:"All pages"}),e(),n(l,{text:"Widgets",tagStyle:1})])]),t("tr",null,[f,y,t("td",null,[n(l,{text:"All pages"}),e(),n(l,{text:"Widgets",tagStyle:1})])]),t("tr",null,[b,A,t("td",null,[n(l,{text:"All pages"}),e(),n(l,{text:"Widgets",tagStyle:1})])]),t("tr",null,[v,w,t("td",null,[n(l,{text:"All pages"}),e(),n(l,{text:"Widgets",tagStyle:1})])]),t("tr",null,[S,T,t("td",null,[n(l,{text:"All pages"}),e(),n(l,{text:"Widgets",tagStyle:1})])]),t("tr",null,[W,U,t("td",null,[n(l,{text:"Widgets",tagStyle:1})])]),t("tr",null,[j,k,t("td",null,[n(l,{text:"All pages"})])]),t("tr",null,[L,P,t("td",null,[n(l,{text:"All pages"}),e(),n(l,{text:"Widgets",tagStyle:1})])]),t("tr",null,[I,N,t("td",null,[n(l,{text:"All pages"}),e(),n(l,{text:"Widgets",tagStyle:1})])]),t("tr",null,[R,q,t("td",null,[n(l,{text:"All pages"}),e(),n(l,{text:"Widgets",tagStyle:1})])]),t("tr",null,[O,B,t("td",null,[n(l,{text:"All pages"})])]),t("tr",null,[D,$,t("td",null,[n(l,{text:"Widgets",tagStyle:1})])]),t("tr",null,[V,E,t("td",null,[n(l,{text:"Show pages",tagStyle:0})])]),t("tr",null,[J,z,t("td",null,[n(l,{text:"Widgets",tagStyle:1})])]),t("tr",null,[C,F,t("td",null,[n(l,{text:"All pages"})])]),t("tr",null,[K,G,t("td",null,[n(l,{text:"All pages"}),e(),n(l,{text:"Widgets",tagStyle:1})])]),t("tr",null,[H,M,t("td",null,[n(l,{text:"Show pages",tagStyle:0})])]),t("tr",null,[Q,X,t("td",null,[n(l,{text:"Show pages",tagStyle:0})])]),t("tr",null,[Y,Z,t("td",null,[n(l,{text:"All pages"})])]),t("tr",null,[tt,et,t("td",null,[n(l,{text:"All pages"})])]),t("tr",null,[lt,nt,t("td",null,[n(l,{text:"All pages"})])]),t("tr",null,[ot,at,t("td",null,[n(l,{text:"All pages"})])]),t("tr",null,[st,dt,t("td",null,[n(l,{text:"All pages"}),e(),n(l,{text:"Widgets",tagStyle:1})])]),t("tr",null,[it,ut,t("td",null,[n(l,{text:"Widgets",tagStyle:1})])])])])])}const yt=o(i,[["render",ct]]);export{ft as __pageData,yt as default};
