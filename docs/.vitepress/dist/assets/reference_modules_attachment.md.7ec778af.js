import{_ as r,K as n,o as i,c as d,O as a,w as o,k as e,a as s,$ as t}from"./chunks/framework.9fa1e75e.js";const ee=JSON.parse('{"title":"@apostrophecms/attachment","description":"","frontmatter":{"extends":"@apostrophecms/module"},"headers":[],"relativePath":"reference/modules/attachment.md","filePath":"reference/modules/attachment.md","lastUpdated":1690289066000}'),h={name:"reference/modules/attachment.md"},D=e("h1",{id:"apostrophecms-attachment",tabindex:"-1"},[e("code",null,"@apostrophecms/attachment"),s(),e("a",{class:"header-anchor",href:"#apostrophecms-attachment","aria-label":'Permalink to "`@apostrophecms/attachment`"'},"​")],-1),y=e("p",null,[e("strong",null,"Alias:"),s(),e("code",null,"apos.attachment")],-1),F=t('<p>The <code>attachment</code> module coordinates the addition and manipulation of any files added to the database and works alongside the <code>@apostrophecms/uploadfs</code> module. This includes rescaling and cropping of images, as well as the uploading of non-image files like &#39;.pdf&#39; or &#39;.csv&#39;. It exposes multiple template helpers and command line tasks for attachment retrieval and manipulation.</p><p>Options and configuration settings for this module are passed in through both <code>modules/@apostrophecms/attachment/index.js</code> and <code>modules/@apostrophecms/uploadfs/index.js</code>.</p><h2 id="options" tabindex="-1">Options <a class="header-anchor" href="#options" aria-label="Permalink to &quot;Options&quot;">​</a></h2><p>This reference is unusual compared to other reference pages in that it documents some settings that are passed directly to <code>@apostrophecms/uploadfs</code>. For these, see the <a href="#selecteduploadfssettings">selected settings</a> of the <code>@apostrophecms/uploadfs</code> module section of this reference.</p><table><thead><tr><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><a href="#filegroups"><code>fileGroups</code></a></td><td>Array</td><td>Assigns uploaded files to either an &#39;image&#39; or &#39;office&#39; category to allow for upload and manipulation.</td></tr><tr><td><a href="#addFileGroups"><code>addFileGroups</code></a></td><td>Array</td><td>Allows addition of extension(s) to existing groups or creation of new groups.</td></tr></tbody></table><h3 id="filegroups" tabindex="-1"><code>fileGroups</code> <a class="header-anchor" href="#filegroups" aria-label="Permalink to &quot;`fileGroups`&quot;">​</a></h3><p>This option should be passed to the <code>@apostrophecms/attachment</code> module. By default, this option is set to an array with two objects and any array passed through this option will <em>replace</em> the default values.</p>',7),m=e("div",{class:"language-javascript"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"javascript"),e("pre",{class:"shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#89DDFF"}},"module.exports"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  "),e("span",{style:{color:"#F07178"}},"options"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"    "),e("span",{style:{color:"#F07178"}},"fileGroups"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," [")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"      "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#F07178"}},"name"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"images"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#F07178"}},"label"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"apostrophe:images"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#F07178"}},"extensions"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," [")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"gif"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"jpg"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"png"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"svg"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"webp"),e("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        ]"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#F07178"}},"extensionMaps"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#F07178"}},"jpeg"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"jpg"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"      "),e("span",{style:{color:"#89DDFF"}},"},")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"      "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#F07178"}},"name"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"office"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#F07178"}},"label"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"apostrophe:office"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#F07178"}},"extensions"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," [")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"txt"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"rtf"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"pdf"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"xls"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"ppt"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"doc"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"pptx"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"sldx"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"ppsx"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"potx"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"xlsx"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"xltx"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"csv"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"docx"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"dotx"),e("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        ]"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#F07178"}},"extensionMaps"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"      "),e("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"    ];")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#89DDFF"}},"...")])])])],-1),u=t('<p>The first default object&#39;s <code>name</code> property is set to <code>images</code> and an <code>extensions</code> key with an array of strings containing the non-prefixed extensions of file types that can be uploaded and attached to <code>@apostrophecms/image</code> pieces. In order to allow different spelling, e.g. &#39;jpg&#39; or &#39;jpeg&#39;, the <code>extensionMaps</code> option takes an object with the alternative spelling as key and the extension it should map to as value.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Passing a new image extension type through replacement of the <code>@apostrophecms/attachment</code> default <code>fileGroups</code> option will not automatically cause the new image type to be re-sized or cropped, only added to the database and written to the designated uploadfs folder.</p></div><p>The second default object is very similar, but for the <code>name</code> key it takes a value of <code>office</code>, indicating that these file types can be attached to <code>@apostrophecms/file</code> pieces and should not be processed. Again, the <code>extensions</code> key takes an array of non-prefixed strings indicating the allowed file types. The <code>extensionMaps</code> maps alternative spellings to the specified extension.</p><h3 id="addfilegroups" tabindex="-1"><code>addFileGroups</code> <a class="header-anchor" href="#addfilegroups" aria-label="Permalink to &quot;`addFileGroups`&quot;">​</a></h3><p>This option should be passed to the <code>@apostrophecms/attachment</code> module and it takes an array of objects. This option allows you to specify new <code>fileGroups</code> containing allowed extensions for use in the <code>attachment</code> schema field. Passing this option an object with the same <code>name</code> property as an existing file group will merge the <code>extensions</code> and <code>extensionMaps</code> with the existing group.</p><p>A new extension can be added to the existing groups, either <code>office</code> or <code>image</code> by setting the object <code>name</code> property to the same value as the group you want to add the extension into.</p><h3 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-label="Permalink to &quot;Example&quot;">​</a></h3>',7),C=e("div",{class:"language-javascript"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"javascript"),e("pre",{class:"shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#89DDFF"}},"module.exports="),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  "),e("span",{style:{color:"#F07178"}},"options"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"    "),e("span",{style:{color:"#F07178"}},"addFileGroups"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," [")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#89DDFF"}},"      "),e("span",{style:{color:"#676E95","font-style":"italic"}},"// adds tif extension to the 'images' group")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"      "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#F07178"}},"name"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"images"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#F07178"}},"extensions"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," [")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"tif"),e("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        ]"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#F07178"}},"extensionMaps"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#F07178"}},"tiff"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"tif"),e("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"      "),e("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"    ]")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  "),e("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#89DDFF"}},"};")])])])],-1),A=t('<p>In addition to <code>name</code>, the object can have both <code>extensions</code> and <code>extensionMaps</code> properties that take values just like the properties in the <code>fileGroups</code> options. Both are optional, you only are required to supply one, but can supply both.</p><p>The <code>addFileGroups</code> option can also be used to add a new grouping without eliminating the existing groups. This is accomplished through the addition of a new object containing <code>name</code>, <code>label</code>, <code>extensions</code> and <code>extensionMaps</code> properties. All are required.</p><h3 id="example-1" tabindex="-1">Example <a class="header-anchor" href="#example-1" aria-label="Permalink to &quot;Example&quot;">​</a></h3>',3),g=e("div",{class:"language-javascript"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"javascript"),e("pre",{class:"shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#89DDFF"}},"module.exports"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  "),e("span",{style:{color:"#F07178"}},"options"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"    "),e("span",{style:{color:"#F07178"}},"addFileGroups"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," [")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"      "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#F07178"}},"name"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"logfiles"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#F07178"}},"extensions"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," [")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"etl"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"evt"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"evtx"),e("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        ]"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#F07178"}},"extensionMaps"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"      "),e("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"    ]")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  "),e("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#89DDFF"}},"};")])])])],-1),f=t(`<p>This example will make a new group, <code>logfiles</code>, but leave the <code>images</code> and <code>office</code> groups unaltered. This new group will be available to use in the <code>attachment</code> field <code>fileGroup</code> setting.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>A single <code>addFileGroups</code> option can be used to both alter existing groups and add new groups by passing multiple objects in the array.</p></div><h2 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h2><table><thead><tr><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><a href="#imagesizes"><code>imageSizes</code></a></td><td>Object</td><td>Takes an object with <code>add</code> and <code>remove</code> properties to change the image sizes created upon image import.</td></tr></tbody></table><h3 id="imagesizes" tabindex="-1"><code>imageSizes</code> <a class="header-anchor" href="#imagesizes" aria-label="Permalink to &quot;\`imageSizes\`&quot;">​</a></h3><p>This configuration setting should be passed to the <code>@apostrophecms/attachment</code> module. It gets passed as a top-level property, not within the <code>options</code> property. By default it is assigned an array containing six image size objects. Each of these objects has a <code>name</code>, <code>width</code>, and <code>height</code> property. The <code>width</code> and <code>height</code> values are unitless. The default sizes are:</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">imageSizes</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">add</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#FFCB6B;">max</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">width</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1600</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">height</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1600</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#FFCB6B;">full</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">width</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1140</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">height</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1140</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">two-thirds</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        width</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">760</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        height</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">760</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">one-half</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        width</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">570</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        height</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">700</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">one-third</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        width</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">380</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        height</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">700</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">one-sixth</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        width</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">190</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        height</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">350</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span></code></pre></div><p>Additional sizes can be added through an object composed of size objects containing <code>name</code>, <code>width</code>, and <code>height</code> properties. This object is passed as value to the <code>add</code> key of <code>imageSizes</code>. Default sizes can be removed by passing an array containing their names to the <code>remove</code> key of <code>imageSizes</code>.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The Apostrophe admin UI may display various sizes to help you manage your images, so remove sizes with care.</p></div><h4 id="example-2" tabindex="-1">Example <a class="header-anchor" href="#example-2" aria-label="Permalink to &quot;Example&quot;">​</a></h4>`,10),b=e("div",{class:"language-javascript"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"javascript"),e("pre",{class:"shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#89DDFF"}},"module.exports"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  "),e("span",{style:{color:"#F07178"}},"imageSizes"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"    "),e("span",{style:{color:"#F07178"}},"add"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"      "),e("span",{style:{color:"#F07178"}},"mini"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#F07178"}},"width"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#F78C6C"}},"200"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#F07178"}},"height"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#F78C6C"}},"200")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"      "),e("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"    "),e("span",{style:{color:"#89DDFF"}},"},")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"    "),e("span",{style:{color:"#F07178"}},"remove"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," ["),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"one-half"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#A6ACCD"}},"]")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  "),e("span",{style:{color:"#89DDFF"}},"},")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#89DDFF"}},"};")])])])],-1),_=t('<h2 id="featured-methods" tabindex="-1">Featured methods <a class="header-anchor" href="#featured-methods" aria-label="Permalink to &quot;Featured methods&quot;">​</a></h2><h3 id="checkextension-field-attachment" tabindex="-1"><code>checkExtension(field, attachment)</code> <a class="header-anchor" href="#checkextension-field-attachment" aria-label="Permalink to &quot;`checkExtension(field, attachment)`&quot;">​</a></h3><p>This method checks whether the supplied attachment file extension is allowed by a particular schema field. It will return <code>null</code> if the attachment file extension is allowed, an array of file extensions that are allowed if it is not, or an empty array if it is not allowed and the allowed extensions are not known.</p><p>The <code>field</code> parameter takes an object and informs the method what file extensions are allowed. To greenlist extensions by <a href="#filegroups">fileGroup</a>, <code>field.fileGroups</code> or <code>field.fileGroup</code> take a string, array, or object. The <code>attachment.group</code> key value will be checked against the passed value.To greenlist by <code>attachment.extension</code>, <code>field.extensions</code> or <code>field.extension</code> take a string, array, or object. The <code>attachment.extension</code> key value will be checked against the passed value.</p><h3 id="insert-req-file-options" tabindex="-1"><code>insert(req, file, options)</code> <a class="header-anchor" href="#insert-req-file-options" aria-label="Permalink to &quot;`insert(req, file, options)`&quot;">​</a></h3><p>This method inserts the supplied file as an Apostrophe attachment. It returns <code>attachment</code> where <code>attachment</code> is an attachment object that can be passed to the <a href="#urlmethod"><code>url()</code> method</a>, or used for the value of a <code>type: &#39;attachment&#39;</code> schema field.</p><p>The <code>file</code> parameter accepts an object with <code>name</code> and <code>path</code> properties. The <code>name</code> should be set to the name of the file, while the <code>path</code> should be the actual full path to the file on disk. This is designed to work well with the <a href="https://www.npmjs.com/package/connect-multiparty" target="_blank" rel="noreferrer"><code>connect-multiparty</code></a> npm module, which is used as middleware by the upload route of this module. But you can also use it to copy files into uploadfs as part of a command line task or other server-side logic.</p><p>The <code>options</code> parameter is optional. If <code>options.permissions</code> is explicitly set to <code>false</code> then permissions are not checked.</p><h3 id="crop-req-id-crop" tabindex="-1"><code>crop(req, _id, crop)</code> <a class="header-anchor" href="#crop-req-id-crop" aria-label="Permalink to &quot;`crop(req, _id, crop)`&quot;">​</a></h3><p>This method takes the image specified by the <code>_id</code> of an existing attachment, copies it to the uploadfs specified temporary location, applies the crop, and then saves it back into uploadfs storage. The <code>crop</code> parameter takes an object with <code>top</code>, <code>left</code>, <code>width</code>, and <code>height</code> properties. The passed values should be unitless, but must be JavaScript numbers, not strings.</p><h3 id="addfilegroup-group" tabindex="-1"><code>addFileGroup(group)</code> <a class="header-anchor" href="#addfilegroup-group" aria-label="Permalink to &quot;`addFileGroup(group)`&quot;">​</a></h3><p>This method takes an object specifying either a new file group or that extends an existing group. For new file groups the object should have <code>name</code>, <code>extensions</code>, and <code>extensionMaps</code> properties that are set-up like the objects passed through array to the <code>fileGroups</code> option of this module.</p><p>To extend an existing file group the object should have a <code>name</code> property matching the <code>name</code> value of an existing file group (<code>office</code> or <code>images</code>, by default). The object should also have an <code>extensions</code> property, <code>extensionMaps</code> property, or both. These properties are structured like the properties of the same name in the <code>fileGroups</code> objects.</p><h2 id="template-helpers" tabindex="-1">Template helpers <a class="header-anchor" href="#template-helpers" aria-label="Permalink to &quot;Template helpers&quot;">​</a></h2><p>Template helpers are methods available for use in template files. Because this module has an alias, you can call these in templates using the alias path. For example, <code>apos.attachment.getWidth(attachment)</code>.</p><h3 id="all-within-options" tabindex="-1"><code>all(within, options)</code> <a class="header-anchor" href="#all-within-options" aria-label="Permalink to &quot;`all(within, options)`&quot;">​</a></h3><p>This helper finds all attachments referenced within a document, whether they are properties or sub-properties. It returns an array of attachment objects, or an empty array. Content found in the alt text, credit and credit url fields for image attachments will be returned, respectively, in the <code>_alt</code>, <code>_credit</code>, and <code>_creditUrl</code> properties of the attachment object. Note: <code>apos.image.all(within, options)</code> is a wrapper for this helper that will automatically return only image attachments.</p><p>The <code>within</code> parameter is required and specifies the object to be searched. In general, the passed document should be the minimum necessary. So for example, use <code>data.piece._people</code> instead of <code>page.body</code>.</p><p>The <code>options</code> parameter is optional and takes an object with several potential properties.</p><p><code>options.group</code> takes the <code>name</code> of the specific <a href="#filegroup"><code>fileGroup</code></a> to be searched - usually either <code>images</code> or <code>office</code>.</p><p><code>options.extension</code> takes a single extension type as a non-prefixed string and filters the returned array to only include those types.</p><p><code>option.extensions</code> takes an array of non-prefixed strings used to filter the results.</p><p><code>options.annotate</code> takes a boolean value. If set to true, it will add a <code>_urls</code> property to any image attachment objects in the returned array. The image <code>_urls</code> property contains sub-properties named for each image name size with the URL as a string value. The <code>_urls</code> will also contain an <code>uncropped</code> property with sub-properties named for each image name size and the URL as value. For non-image files, <code>annotate: true</code> will add a <code>_url</code> property to the object in the returned array with the URL of the attachment as value.</p>',23),x=e("div",{class:"language-njk"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"njk"),e("pre",{class:"shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"{% if data.page._people %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  {% set images = apos.attachment.all(data.page._people, { group: 'images' }) %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  {% for selfie in images %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"    "),e("span",{style:{color:"#89DDFF"}},"<"),e("span",{style:{color:"#F07178"}},"img"),e("span",{style:{color:"#89DDFF"}}," "),e("span",{style:{color:"#C792EA"}},"src"),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#C3E88D"}},"{{ selfie._urls['one-third'] }}"),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#89DDFF"}},">")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  {% endfor %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"{% endif %}")])])])],-1),k=t('<h3 id="first-within-options" tabindex="-1"><code>first</code>(within, options) <a class="header-anchor" href="#first-within-options" aria-label="Permalink to &quot;`first`(within, options)&quot;">​</a></h3><p>This helper finds the first attachment referenced within a document, whether it is a property or sub-property. It returns an object, or undefined if no attachments are found. Content found in the alt text, credit and credit url fields for image attachments will be returned, respectively, in the <code>_alt</code>, <code>_credit</code>, and <code>_creditUrl</code> properties of the attachment object. Note: <code>apos.image.first(within, options)</code> is a wrapper for this and will automatically return only image attachments.</p><p>The <code>within</code> parameter is required and specifies the object to be searched. In general, the passed document should be the minimum necessary. So for example, use <code>data.piece._people</code> instead of <code>page.body</code>.</p><p>The <code>options</code> parameter is optional and takes an object with several potential properties.</p><p><code>options.group</code> takes the <code>name</code> of the specific <a href="#filegroup"><code>fileGroup</code></a> to be searched - usually either <code>images</code> or <code>office</code>.</p><p><code>options.extension</code> takes a single extension type as a non-prefixed string and filters the returned array to only include those types.</p><p><code>option.extensions</code> takes an array of non-prefixed strings used to filter the results.</p><p><code>options.annotate</code> takes a boolean value. If set to true, it will add a <code>_urls</code> property to any image attachment objects in the returned array. The image <code>_urls</code> property contains sub-properties named for each image name size with the URL as a string value. The <code>_urls</code> will also contain an <code>uncropped</code> property with sub-properties named for each image name size and the URL as value. For non-image files, <code>annotate: true</code> will add a <code>_url</code> property to the object in the returned array with the URL of the attachment as value.</p>',8),w=e("div",{class:"language-njk"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"njk"),e("pre",{class:"shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"{% if data.page._people %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  {% set image = apos.attachment.first(data.page._people, { group: 'images' }) %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"   "),e("span",{style:{color:"#89DDFF"}},"<"),e("span",{style:{color:"#F07178"}},"img"),e("span",{style:{color:"#89DDFF"}}," "),e("span",{style:{color:"#C792EA"}},"src"),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#C3E88D"}},"{{ image._urls['one-third'] }}"),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#89DDFF"}},">")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"{% endif %}")])])])],-1),T=e("h3",{id:"focalpointtoobjectposition-attachment",tabindex:"-1"},[e("code",null,"focalPointToObjectPosition(attachment)"),s(),e("a",{class:"header-anchor",href:"#focalpointtoobjectposition-attachment","aria-label":'Permalink to "`focalPointToObjectPosition(attachment)`"'},"​")],-1),v=e("p",null,[s("If the attachment has a focal point defined, this helper will return the focal point position converted to CSS syntax for "),e("code",null,"object-position"),s(" as a string with coordinates as percentages. This string does not have an "),e("code",null,";"),s(" appended, so it must be added. If no focal point is set for the attachment it returns "),e("code",null,"center center"),s(".")],-1),j=e("div",{class:"language-njk"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"njk"),e("pre",{class:"shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"{% if data.page._people %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  {% set image = apos.attachment.first(data.page._people, { group: 'images' }) %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  {% set focalPoint = apos.attachment.focalPointToObjectPosition(image) %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"   // focal point = '20% 20%'  ")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  "),e("span",{style:{color:"#89DDFF"}},"<"),e("span",{style:{color:"#F07178"}},"img"),e("span",{style:{color:"#89DDFF"}}," "),e("span",{style:{color:"#C792EA"}},"src"),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#C3E88D"}},"{{ image._urls['one-third'] }}"),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#89DDFF"}}," "),e("span",{style:{color:"#C792EA"}},"style"),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#C3E88D"}},"object-position: {{ focalPoint }};"),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#89DDFF"}},">")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"{% endif %}")])])])],-1),E=e("h3",{id:"getfocalpoint-attachment",tabindex:"-1"},[e("code",null,"getFocalPoint(attachment)"),s(),e("a",{class:"header-anchor",href:"#getfocalpoint-attachment","aria-label":'Permalink to "`getFocalPoint(attachment)`"'},"​")],-1),P=e("p",null,[s("If the attachment has a focal point defined, this helper will return an object containing an "),e("code",null,"x"),s(" property with the x-postition, and "),e("code",null,"y"),s(" property with the y-position, as percentages. The numbers are supplied unitless. If there is no focal point defined it returns null.")],-1),q=e("div",{class:"language-njk"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"njk"),e("pre",{class:"shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"{% if data.page._people %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  {% set image = apos.attachment.first(data.page._people, { group: 'images' }) %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  {% set focalPoint = apos.attachment.getFocalPoint(image) %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"   // focal point = '{ x: 20, y: 20 }'  ")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  "),e("span",{style:{color:"#89DDFF"}},"<"),e("span",{style:{color:"#F07178"}},"img"),e("span",{style:{color:"#89DDFF"}}," "),e("span",{style:{color:"#C792EA"}},"src"),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#C3E88D"}},"{{ image._urls['one-third'] }}"),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#89DDFF"}}," "),e("span",{style:{color:"#C792EA"}},"style"),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#C3E88D"}},"object-position: left {{ focalPoint.x }}% top {{ focalPoint.y }}%;"),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#89DDFF"}},">")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"{% endif %}")])])])],-1),S=e("h3",{id:"getheight-attachment",tabindex:"-1"},[e("code",null,"getHeight(attachment)"),s(),e("a",{class:"header-anchor",href:"#getheight-attachment","aria-label":'Permalink to "`getHeight(attachment)`"'},"​")],-1),I=e("p",null,"Returns either the original size attachment height, or the cropped height if the image has been cropped in the document.",-1),z=e("div",{class:"language-njk"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"njk"),e("pre",{class:"shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"{% if data.page._people %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  {% set image = apos.attachment.first(data.page._people, { group: 'images' }) %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  {% set imageHeight = apos.attachment.getHeight(image) %}  "),e("span",{style:{color:"#89DDFF"}},"<"),e("span",{style:{color:"#F07178"}},"img"),e("span",{style:{color:"#89DDFF"}}," "),e("span",{style:{color:"#C792EA"}},"src"),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#C3E88D"}},"{{ image._urls['one-third'] }}"),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#89DDFF"}}," "),e("span",{style:{color:"#C792EA"}},"height"),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#C3E88D"}},"{{ imageHeight }}"),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#89DDFF"}}," >")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"{% endif %}")])])])],-1),B=e("h3",{id:"getwidth-attachment",tabindex:"-1"},[e("code",null,"getWidth(attachment)"),s(),e("a",{class:"header-anchor",href:"#getwidth-attachment","aria-label":'Permalink to "`getWidth(attachment)`"'},"​")],-1),G=e("p",null,"Returns either the original size attachment width or the cropped width if the image has been cropped in the document.",-1),R=e("div",{class:"language-njk"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"njk"),e("pre",{class:"shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"{% if data.page._people %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  {% set image = apos.attachment.first(data.page._people, { group: 'images' }) %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  {% set imageWidth = apos.attachment.getWidth(image) %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  "),e("span",{style:{color:"#89DDFF"}},"<"),e("span",{style:{color:"#F07178"}},"img"),e("span",{style:{color:"#89DDFF"}}," "),e("span",{style:{color:"#C792EA"}},"src"),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#C3E88D"}},"{{ image._urls['one-third'] }}"),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#89DDFF"}}," "),e("span",{style:{color:"#C792EA"}},"width"),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#C3E88D"}},"{{ imageWidth }}"),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#89DDFF"}}," >")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"{% endif %}")])])])],-1),V=e("h3",{id:"hasfocalpoint-attachment",tabindex:"-1"},[e("code",null,"hasFocalPoint(attachment)"),s(),e("a",{class:"header-anchor",href:"#hasfocalpoint-attachment","aria-label":'Permalink to "`hasFocalPoint(attachment)`"'},"​")],-1),N=e("p",null,[s("Returns "),e("code",null,"true"),s(" if the image attachment associated with the document has a focal point set.")],-1),O=e("div",{class:"language-njk"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"njk"),e("pre",{class:"shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"{% if data.page._people %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  {% set image = apos.attachment.first(data.page._people, { group: 'images' }) %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  {% if hasFocalPoint(image) %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"    {% set focalPoint = apos.attachment.focalPointToObjectPosition(image) %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"    "),e("span",{style:{color:"#89DDFF"}},"<"),e("span",{style:{color:"#F07178"}},"img"),e("span",{style:{color:"#89DDFF"}}," "),e("span",{style:{color:"#C792EA"}},"src"),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#C3E88D"}},"{{ image._urls['one-third'] }}"),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#89DDFF"}}," "),e("span",{style:{color:"#C792EA"}},"style"),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#C3E88D"}},"object-position: {{ focalPoint }};"),e("span",{style:{color:"#89DDFF"}},'"'),e("span",{style:{color:"#89DDFF"}},">")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  {% endif %}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"{% endif %}")])])])],-1),U=t('<h3 id="iscroppable-attachment" tabindex="-1"><code>isCroppable(attachment)</code> <a class="header-anchor" href="#iscroppable-attachment" aria-label="Permalink to &quot;`isCroppable(attachment)`&quot;">​</a></h3><p>Checks the attachment extension against the <code>fileGroups</code> option to determine if the attachment can be cropped.</p><h3 id="url-attachment-options" tabindex="-1"><code>url(attachment, options)</code><a name="urlmethod"></a> <a class="header-anchor" href="#url-attachment-options" aria-label="Permalink to &quot;`url(attachment, options)`&lt;a name=&quot;urlmethod&quot;&gt;&lt;/a&gt;&quot;">​</a></h3><p>Returns the URL of the passed attachment. If <code>options.size</code> is set to the name of an existing size, it will return the URL for that size. <code>options.full</code> will return the URL for the &quot;full width&quot; (1140px, by default), not the original. For the original, pass <code>original</code> as the <code>size</code> value. By default the full size is returned. if <code>options.uploadfsPath</code> is <code>true</code>, the uploadfs path will be returned.</p><h2 id="module-tasks" tabindex="-1">Module tasks <a class="header-anchor" href="#module-tasks" aria-label="Permalink to &quot;Module tasks&quot;">​</a></h2><h3 id="rescale" tabindex="-1"><code>rescale</code> <a class="header-anchor" href="#rescale" aria-label="Permalink to &quot;`rescale`&quot;">​</a></h3><p>This method will regenerate all sizes of all image attachments. This is useful after a new sizes is added to the configuration. Note: this might take a considerable amount of time.</p><p>Usage</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">app</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@apostrophecms/attachment:rescale</span></span></code></pre></div><h2 id="selected-apostrophecms-uploadfs-module-settings" tabindex="-1">Selected <code>@apostrophecms/uploadfs</code> module settings<a name="selecteduploadfssettings"></a> <a class="header-anchor" href="#selected-apostrophecms-uploadfs-module-settings" aria-label="Permalink to &quot;Selected `@apostrophecms/uploadfs` module settings&lt;a name=&quot;selecteduploadfssettings&quot;&gt;&lt;/a&gt;&quot;">​</a></h2><p>These options should be added to the <code>modules/@apostrophecms/uploadfs/index.js</code> file inside the <code>uploadfs</code> option. See the <a href="/reference/modules/uploadfs.html"><code>@apostrophecms/uploadfs</code> reference page</a> for the remainder of the module options and settings.</p><table><thead><tr><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><a href="#copyoriginal"><code>copyOriginal</code></a></td><td>Boolean</td><td>Undefined by default. If set to <code>false</code> the original image will not be copied to the database, only scaled images.</td></tr><tr><td><a href="#image"><code>image</code></a></td><td>String || Object</td><td>Sets the image processor to &#39;sharp&#39; (by default), &#39;imagemagick, or a custom processor passed in an object.</td></tr><tr><td><code>orientOriginals</code></td><td>Boolean</td><td>Unless set to <code>false</code>, the uploaded image will be reoriented according to header data.</td></tr><tr><td><a href="#postprocessors"><code>postprocessors</code></a></td><td>Array</td><td>Takes an array of objects detailing optional postprocessors for images.</td></tr><tr><td><code>scaledJpegQuality</code></td><td>Integer</td><td>Sets the JPEG quality setting for scaled images - defaults to 80.</td></tr><tr><td><code>sizeAvailableInArchive</code></td><td>String</td><td>Takes the name of a size to make available even if the document is archived. Defaults to &#39;one-sixth&#39;.</td></tr></tbody></table><h3 id="copyoriginal" tabindex="-1"><code>copyOriginal</code> <a class="header-anchor" href="#copyoriginal" aria-label="Permalink to &quot;`copyOriginal`&quot;">​</a></h3><p>This setting should be passed to the <code>@apostrophecms/uploadfs</code> module. By default, the <code>copyOriginal</code> value is undefined, resulting in storage of the original image in the database. Explicitly setting this to <code>false</code> will block this behavior. This option is ignored for non-image files.</p><h3 id="image" tabindex="-1"><code>image</code> <a class="header-anchor" href="#image" aria-label="Permalink to &quot;`image`&quot;">​</a></h3><p>This setting should be passed to the <code>@apostrophecms/uploadfs</code> module. The &#39;image&#39; setting defaults to &#39;sharp&#39; and using the built-in <a href="https://www.npmjs.com/package/sharp" target="_blank" rel="noreferrer">sharp.js</a> image processor. This property also accepts <code>imagemagick</code> if it has been installed or an object specifying a custom processor. See the <code>uploadfs</code> npm module <a href="https://github.com/apostrophecms/uploadfs/blob/main/lib/image/sharp.js" target="_blank" rel="noreferrer"><code>sharp.js</code></a> file for example.</p><h4 id="example-3" tabindex="-1">Example <a class="header-anchor" href="#example-3" aria-label="Permalink to &quot;Example&quot;">​</a></h4>',17),M=e("div",{class:"language-javascript"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"javascript"),e("pre",{class:"shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#89DDFF"}},"module.exports"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  "),e("span",{style:{color:"#F07178"}},"options"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"    "),e("span",{style:{color:"#F07178"}},"uploadfs"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"      "),e("span",{style:{color:"#F07178"}},"copyOriginal"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#FF9CAC"}},"false")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"    "),e("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  "),e("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#89DDFF"}},"};")])])])],-1),L=t('<h3 id="postprocessors" tabindex="-1"><code>postprocessors</code> <a class="header-anchor" href="#postprocessors" aria-label="Permalink to &quot;`postprocessors`&quot;">​</a></h3><p>This setting should be passed to the <code>@apostrophecms/uploadfs</code> module. It is possible to configure <code>uploadfs</code> to run a postprocessor on every custom-sized image that it generates. This is intended for file size optimization tools like <code>imagemin</code>.</p><p>Here is an example based on the <code>imagemin</code> documentation:</p>',3),H=e("div",{class:"language-javascript"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"javascript"),e("pre",{class:"shiki material-theme-palenight"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#C792EA"}},"const"),e("span",{style:{color:"#A6ACCD"}}," imagemin "),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#82AAFF"}},"require"),e("span",{style:{color:"#A6ACCD"}},"("),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"imagemin"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#A6ACCD"}},")"),e("span",{style:{color:"#89DDFF"}},";")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#C792EA"}},"const"),e("span",{style:{color:"#A6ACCD"}}," imageminJpegtran "),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#82AAFF"}},"require"),e("span",{style:{color:"#A6ACCD"}},"("),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"imagemin-jpegtran"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#A6ACCD"}},")"),e("span",{style:{color:"#89DDFF"}},";")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#C792EA"}},"const"),e("span",{style:{color:"#A6ACCD"}}," imageminPngquant "),e("span",{style:{color:"#89DDFF"}},"="),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#82AAFF"}},"require"),e("span",{style:{color:"#A6ACCD"}},"("),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"imagemin-pngquant"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#A6ACCD"}},")"),e("span",{style:{color:"#89DDFF"}},";")]),s(`
`),e("span",{class:"line"}),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#82AAFF"}},"uploadfs"),e("span",{style:{color:"#A6ACCD"}},"("),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  "),e("span",{style:{color:"#F07178"}},"storage"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"local"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  "),e("span",{style:{color:"#F07178"}},"image"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"sharp"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  "),e("span",{style:{color:"#F07178"}},"postprocessors"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," [")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"    "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"      "),e("span",{style:{color:"#F07178"}},"postprocessor"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," imagemin"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"      "),e("span",{style:{color:"#F07178"}},"extensions"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," [ "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"gif"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},","),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"jpg"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},","),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"png"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#A6ACCD"}}," ]"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"      "),e("span",{style:{color:"#F07178"}},"options"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        "),e("span",{style:{color:"#F07178"}},"plugins"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," [")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#82AAFF"}},"imageminJpegtran"),e("span",{style:{color:"#A6ACCD"}},"()"),e("span",{style:{color:"#89DDFF"}},",")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"          "),e("span",{style:{color:"#82AAFF"}},"imageminPngquant"),e("span",{style:{color:"#A6ACCD"}},"("),e("span",{style:{color:"#89DDFF"}},"{"),e("span",{style:{color:"#F07178"}},"quality"),e("span",{style:{color:"#89DDFF"}},":"),e("span",{style:{color:"#A6ACCD"}}," "),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#C3E88D"}},"0.3-0.8"),e("span",{style:{color:"#89DDFF"}},"'"),e("span",{style:{color:"#89DDFF"}},"}"),e("span",{style:{color:"#A6ACCD"}},")")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"        ]")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"      "),e("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"    "),e("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A6ACCD"}},"  ]")]),s(`
`),e("span",{class:"line"},[e("span",{style:{color:"#89DDFF"}},"}"),e("span",{style:{color:"#A6ACCD"}},")"),e("span",{style:{color:"#89DDFF"}},";")])])])],-1),J=t('<h2 id="related-documentation" tabindex="-1">Related documentation <a class="header-anchor" href="#related-documentation" aria-label="Permalink to &quot;Related documentation&quot;">​</a></h2><ul><li><a href="https://v3.docs.apostrophecms.org/reference/field-types/attachment.html#attachment" target="_blank" rel="noreferrer">Attachment schema field</a></li><li><a href="https://v3.docs.apostrophecms.org/reference/api/field-formats.html#attachment" target="_blank" rel="noreferrer">API attachment response</a></li><li><a href="https://v3.docs.apostrophecms.org/reference/api/media.html#post-api-v1-apostrophecms-attachment-crop" target="_blank" rel="noreferrer">API crop endpoint</a></li><li><a href="https://v3.docs.apostrophecms.org/reference/api/media.html#post-api-v1-apostrophecms-attachment-upload" target="_blank" rel="noreferrer">API upload endpoint</a></li></ul>',2);function W(c,$,K,Q,X,Y){const p=n("AposRefExtends"),l=n("AposCodeBlock");return i(),d("div",null,[D,y,a(p,{module:c.$frontmatter.extends},null,8,["module"]),F,a(l,null,{caption:o(()=>[s(" module/@apostrophecms/attachment/index.js ")]),default:o(()=>[m]),_:1}),u,a(l,null,{caption:o(()=>[s(" modules/@apostrophecms/attachment/index.js ")]),default:o(()=>[C]),_:1}),A,a(l,null,{caption:o(()=>[s(" modules/@apostrophecms/attachment/index.js ")]),default:o(()=>[g]),_:1}),f,a(l,null,{caption:o(()=>[s(" modules/@apostrophecms/attachment/index.js ")]),default:o(()=>[b]),_:1}),_,a(l,null,{caption:o(()=>[s(" modules/default-page/views/page.html ")]),default:o(()=>[x]),_:1}),k,a(l,null,{caption:o(()=>[s(" modules/default-page/views/page.html ")]),default:o(()=>[w]),_:1}),T,v,a(l,null,{caption:o(()=>[s(" modules/default-page/views/page.html ")]),default:o(()=>[j]),_:1}),E,P,a(l,null,{caption:o(()=>[s(" modules/default-page/views/page.html ")]),default:o(()=>[q]),_:1}),S,I,a(l,null,{caption:o(()=>[s(" modules/default-page/views/page.html ")]),default:o(()=>[z]),_:1}),B,G,a(l,null,{caption:o(()=>[s(" modules/default-page/views/page.html ")]),default:o(()=>[R]),_:1}),V,N,a(l,null,{caption:o(()=>[s(" modules/default-page/views/page.html ")]),default:o(()=>[O]),_:1}),U,a(l,null,{caption:o(()=>[s(" module/@apostrophecms/uploadfs/index.js ")]),default:o(()=>[M]),_:1}),L,a(l,null,{caption:o(()=>[s(" modules/@apostrophecms/uploadfs/index.js ")]),default:o(()=>[H,s()]),_:1}),J])}const se=r(h,[["render",W]]);export{ee as __pageData,se as default};
