import{_ as t,K as p,o as c,c as r,O as n,w as a,$ as l,k as s,a as e}from"./chunks/framework.9fa1e75e.js";const i="/assets/rich-text-highlighting.191a874b.png",L=JSON.parse('{"title":"Core widgets","description":"","frontmatter":{"prev":{"text":"Areas","link":"guide/areas-and-widgets.md"},"next":{"text":"Custom Widgets","link":"guide/custom-widgets.md"}},"headers":[],"relativePath":"guide/core-widgets.md","filePath":"guide/core-widgets.md","lastUpdated":1690289066000}'),d={name:"guide/core-widgets.md"},y=l(`<h1 id="core-widgets" tabindex="-1">Core widgets <a class="header-anchor" href="#core-widgets" aria-label="Permalink to &quot;Core widgets&quot;">â€‹</a></h1><p>Apostrophe comes with some content widgets you can use in areas right away. See below for their descriptions and options.</p><table><thead><tr><th>Common name/label</th><th>Widget reference</th><th>What is it?</th></tr></thead><tbody><tr><td><a href="#rich-text-widget">Rich text</a></td><td><code>@apostrophecms/rich-text</code></td><td>A space to enter text and allow formatting (e.g., bolding, links)</td></tr><tr><td><a href="#image-widget">Image</a></td><td><code>@apostrophecms/image</code></td><td>A single image supporting alt text and responsive behavior</td></tr><tr><td><a href="#video-widget">Video</a></td><td><code>@apostrophecms/video</code></td><td>Embed a video from most video hosts by entering its URL</td></tr><tr><td><a href="#html-widget">Raw HTML</a></td><td><code>@apostrophecms/html</code></td><td>Allow entering HTML directly (see security notes below)</td></tr></tbody></table><h2 id="rich-text-widget" tabindex="-1">Rich text widget <a class="header-anchor" href="#rich-text-widget" aria-label="Permalink to &quot;Rich text widget&quot;">â€‹</a></h2><p>The rich text widget provides a space for entering and editing formatted text. Editors can update its content directly in-context.</p><p>There are many text formatting features that you can configure for rich text widgets. These editor options are configured in two widget options: <a href="#configuring-the-toolbar"><code>toolbar</code></a> and <a href="#configuring-text-styles"><code>styles</code></a>. Add these to the widget configuration object when adding an area field.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// modules/@apostrophecms/home-page/index.js</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// In area field configuration options</span></span>
<span class="line"><span style="color:#FFCB6B;">widgets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@apostrophecms/rich-text</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ðŸ‘‡ Toolbar configuration</span></span>
<span class="line"><span style="color:#F07178;">    toolbar</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">styles</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bold</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">italic</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ðŸ‘‡ Styles configuration</span></span>
<span class="line"><span style="color:#F07178;">    styles</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        tag</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">p</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        label</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Paragraph (P)</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        tag</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        label</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Heading 2 (H2)</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    ]</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="configuring-the-toolbar" tabindex="-1">Configuring the toolbar <a class="header-anchor" href="#configuring-the-toolbar" aria-label="Permalink to &quot;Configuring the toolbar&quot;">â€‹</a></h3><p>To add formatting tools to the rich text toolbar, add their names to the <code>toolbar</code> array. The available formatting options include:</p><table><thead><tr><th>Tool name</th><th>What is it?</th></tr></thead><tbody><tr><td><code>&#39;styles&#39;</code></td><td>A list of text styles, allowing different HTML tags and CSS classes (see <a href="#configuring-text-styles">&quot;Configuring text styles&quot;</a> below)</td></tr><tr><td><code>&#39;bold&#39;</code></td><td>Bold text</td></tr><tr><td><code>&#39;italic&#39;</code></td><td>Italicize text</td></tr><tr><td><code>&#39;strike&#39;</code></td><td>Strikethrough text</td></tr><tr><td><code>&#39;superscript&#39;</code></td><td>Superscript text</td></tr><tr><td><code>&#39;subscript&#39;</code></td><td>Subscript text</td></tr><tr><td><code>&#39;link&#39;</code></td><td>Add a link</td></tr><tr><td><code>&#39;anchor&#39;</code></td><td>Add an anchor id</td></tr><tr><td><code>&#39;horizontalRule&#39;</code></td><td>Add a visual horizontal rule</td></tr><tr><td><code>&#39;bulletList&#39;</code></td><td>Bulleted list</td></tr><tr><td><code>&#39;orderedList&#39;</code></td><td>Numbered list</td></tr><tr><td><code>&#39;blockquote&#39;</code></td><td>Block quote</td></tr><tr><td><code>&#39;codeBlock&#39;</code></td><td>Code block</td></tr><tr><td><code>&#39;alignLeft&#39;</code></td><td>Text Align Left</td></tr><tr><td><code>&#39;alignCenter&#39;</code></td><td>Text Align Center</td></tr><tr><td><code>&#39;alignRight&#39;</code></td><td>Text Align Right</td></tr><tr><td><code>&#39;alignJustify&#39;</code></td><td>Text Align Justify</td></tr><tr><td><code>&#39;table&#39;</code></td><td>Insert and edit tables</td></tr><tr><td><code>&#39;image&#39;</code></td><td>Insert and edit images</td></tr><tr><td><code>&#39;undo&#39;</code></td><td>Undo the last change</td></tr><tr><td><code>&#39;redo&#39;</code></td><td>Redo the last undone change</td></tr><tr><td>\`&#39;</td><td>&#39;\`</td></tr></tbody></table><h3 id="configuring-the-insert-menu" tabindex="-1">Configuring the insert menu <a class="header-anchor" href="#configuring-the-insert-menu" aria-label="Permalink to &quot;Configuring the insert menu&quot;">â€‹</a></h3><p>Note that the toolbar appears only when text is already selected. Some features, like <code>table</code> and <code>image</code>, should be available all the time because they insert entirely new content unrelated to existing text.</p><p>To accommodate this, you can enable the &quot;insert menu&quot; as well:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// modules/@apostrophecms/home-page/index.js</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// In area field configuration options</span></span>
<span class="line"><span style="color:#FFCB6B;">widgets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@apostrophecms/rich-text</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//  Toolbar configuration</span></span>
<span class="line"><span style="color:#F07178;">    toolbar</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">styles</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bold</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">italic</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">table</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">image</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ðŸ‘‡ Insert menu configuration</span></span>
<span class="line"><span style="color:#F07178;">    insert</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">table</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">image</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>When you do so, the user receives a hint to press the <code>/</code> key at the start of any line to open the insert menu.</p><p>Note that in this example, both insert menu options appear on the toolbar as well. This is because there are useful features included for editing <em>existing</em> tables and images, not just inserting new ones.</p><h3 id="configuring-text-styles" tabindex="-1">Configuring text styles <a class="header-anchor" href="#configuring-text-styles" aria-label="Permalink to &quot;Configuring text styles&quot;">â€‹</a></h3><p>When you add the <code>&#39;styles&#39;</code> formatting tool, you can configure an array of text styles. These must include an HTML tag and a label for the menu interface. They may also include a CSS class.</p><p>A single style including class might look like:</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">label</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Centered heading</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">tag</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">class</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">centered</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>You can use the same tag in several styles with various CSS classes.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Including a class with a style will not automatically apply any styles. You still need to <a href="/guide/front-end-assets.html">write your own CSS</a> for the class.</p></div><p>Some tags will wrap the selected text, rather than converting the entire block to be enclosed in a specific tag. For example, selecting just a few words within a paragraph and applying a style using the span tag will surround the selected text with span tags configured with the configured class attribute(s).</p><p>Adding to the toolbar styles:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">styles</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      tag</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">span</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      label</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Highlight: Red</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      class</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">highlight-red</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  ]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>Adding to the stylesheet:</p><div class="language-css"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">highlight-red</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#B2CCD6;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">#</span><span style="color:#A6ACCD;">FF0000</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span></code></pre></div><p><img src="`+i+`" alt="Screenshot showing the addition of red highlighting to text in the Rich Text Editor"></p><p>The other tags that wrap the selected text instead of converting the entire section include <code>b</code>, <code>strong</code>, <code>code</code>, <code>mark</code>, <code>em</code>, <code>i</code>, <code>a</code>, <code>s</code>, <code>del</code>, <code>strike</code>, <code>u</code>, <code>anchor</code>, <code>superscript</code>, and <code>subscript</code>. While the majority of these have dedicated toolbar buttons, you can also add them to the style menu if you want to add them to the page with a class.</p><h3 id="default-rich-text-configuration" tabindex="-1">Default rich text configuration <a class="header-anchor" href="#default-rich-text-configuration" aria-label="Permalink to &quot;Default rich text configuration&quot;">â€‹</a></h3><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">toolbar</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">styles</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bold</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">italic</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">strike</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">link</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bulletList</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">orderedList</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">blockquote</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">styles</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      tag</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">p</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      label</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Paragraph (P)</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      tag</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      label</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Heading 2 (H2)</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      tag</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      label</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Heading 3 (H3)</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      tag</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h4</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      label</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Heading 4 (H4)</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  ]</span></span>
<span class="line"><span style="color:#89DDFF;">},</span></span></code></pre></div><p>If you prefer, you can configure only one of the two sections (<code>toolbar</code> or <code>styles</code>), and keep the default configuration for the other.</p><p><strong>You can also set your own default</strong> rich text options. Avoid adding the same options repeatedly by configuring these options on the <code>@apostrophecms/rich-text-widget</code> module.</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// modules/@apostrophecms/rich-text-widget/index.js</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">options</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">defaultOptions</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">toolbar</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// Your default formatting tools</span></span>
<span class="line"><span style="color:#A6ACCD;">      ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">styles</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// Your own default styles</span></span>
<span class="line"><span style="color:#A6ACCD;">      ]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="using-markdown-in-the-rich-text-widget" tabindex="-1">Using Markdown in the Rich Text Widget <a class="header-anchor" href="#using-markdown-in-the-rich-text-widget" aria-label="Permalink to &quot;Using Markdown in the Rich Text Widget&quot;">â€‹</a></h3><p>The rich text widget has limited support for using <a href="https://www.markdownguide.org/cheat-sheet/" target="_blank" rel="noreferrer">Markdown syntax</a>. Heading styles can be selected by adding the same number of octothorpe (&#39;#&#39;) as the heading level, followed by a space, and then the heading text. This will only work if you have that heading added into your <code>styles</code> dropdown. If you do not have a particular heading added to your <code>styles</code>, the next heading lower will be substituted. For example, if you have the <code>h2</code> tag added but not the <code>h1</code>, using <code># My Title</code> will result in your title having <code>h2</code> tags. For the default rich text widget settings, headings <code>## H2</code>, <code>### H3</code>, and <code>#### H4</code> are defined.</p><p>Several other Markdown shortcuts are enabled by default, including double tilde (<code>~~ strikethrough~~</code>) for strikethrough and double asterisk (<code>**bold**</code>). See the table below for the entire list.</p><table><thead><tr><th>Element</th><th>Syntax</th><th>Enabling</th></tr></thead><tbody><tr><td><code>h1</code></td><td><code># heading 1</code></td><td>Must be defined in &#39;styles&#39;</td></tr><tr><td><code>h2</code></td><td><code>## heading 2</code></td><td>Must be defined in &#39;styles&#39;</td></tr><tr><td><code>h3</code></td><td><code>## heading 3</code></td><td>Must be defined in &#39;styles&#39;</td></tr><tr><td><code>h4</code></td><td><code>## heading 4</code></td><td>Must be defined in &#39;styles&#39;</td></tr><tr><td><code>h5</code></td><td><code>## heading 5</code></td><td>Must be defined in &#39;styles&#39;</td></tr><tr><td><code>h6</code></td><td><code>## heading 6</code></td><td>Must be defined in &#39;styles&#39;</td></tr><tr><td><code>strong</code></td><td><code>**bold**</code> or <code>__bold__</code></td><td>Default</td></tr><tr><td><code>em</code></td><td><code>*italics*</code> or <code>_italics_</code></td><td>Default</td></tr><tr><td><code>blockquote</code></td><td><code>&gt; blockquote</code></td><td>Default</td></tr><tr><td><code>ol</code></td><td><code>1. list item</code></td><td>Default</td></tr><tr><td><code>ul</code></td><td><code>* list item</code></td><td>Default</td></tr><tr><td><code>code</code></td><td>\`code\` (single backticks)</td><td>Default</td></tr><tr><td><code>s</code></td><td><code>~~strikethrough~~</code></td><td>Default</td></tr><tr><td><code>mark</code></td><td><code>==highlight==</code></td><td>Default</td></tr><tr><td><code>hr</code></td><td><code>---</code></td><td>Default</td></tr></tbody></table><p>:::note Spaces in the syntax between the symbol and any text in the table are required, e.g., <code>## heading</code>. Equally, a lack of space between symbols and any text is also required for proper formatting, e.g., <code>**bold**</code>. :::</p><h3 id="configuring-the-image-toolbar-and-insert-menu-option" tabindex="-1">Configuring the <code>image</code> toolbar and insert menu option <a class="header-anchor" href="#configuring-the-image-toolbar-and-insert-menu-option" aria-label="Permalink to &quot;Configuring the \`image\` toolbar and insert menu option&quot;">â€‹</a></h3><p>If you choose to enable the <code>image</code> toolbar option, which allows images to appear inline in text, you will usually want to also add it to the <code>insert</code> option so that the user can easily insert a brand new image without selecting text first.</p><p>In addition, you will likely want to configure the <code>imageStyles</code> option of the <code>@apostrophecms/rich-text-widget</code> module, in order to specify CSS classes the user is allowed to select for the image:</p>`,42),D=s("div",{class:"language-javascript"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"javascript"),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"// modules/@apostrophecms/rich-text-widget/index.js")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"module.exports"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#F07178"}},"options"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#F07178"}},"imageStyles"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," [")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"      "),s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#F07178"}},"value"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"image-float-left"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},",")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#F07178"}},"label"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"Float Left"),s("span",{style:{color:"#89DDFF"}},"'")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"      "),s("span",{style:{color:"#89DDFF"}},"},")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"      "),s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#F07178"}},"value"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"image-float-right"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},",")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#F07178"}},"label"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"Float Right"),s("span",{style:{color:"#89DDFF"}},"'")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"      "),s("span",{style:{color:"#89DDFF"}},"},")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"      "),s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#F07178"}},"value"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"image-float-center"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},",")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        "),s("span",{style:{color:"#F07178"}},"label"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"Center"),s("span",{style:{color:"#89DDFF"}},"'")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"      "),s("span",{style:{color:"#89DDFF"}},"}")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    ]")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"}")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")])])])],-1),F=l('<p>Apostrophe will apply the specified classes to a <code>figure</code> element that will contain an <code>img</code> element and a <code>figcaption</code> element. Note that writing CSS styles for those classes to suit your needs is up to you. <code>image-float-left</code> does not ship with Apostrophe, it is just an example.</p><p>Inline images can be handy, especially for floating, but image widgets and custom widgets are generally more flexible.</p><h3 id="allowing-links-to-specific-piece-types" tabindex="-1">Allowing links to specific piece-types <a class="header-anchor" href="#allowing-links-to-specific-piece-types" aria-label="Permalink to &quot;Allowing links to specific piece-types&quot;">â€‹</a></h3><p>By default, the rich text widget allows you to add links to URLs or internal pages. The <code>linkWithType</code> option allows you to add links to any <code>piece-type</code> show page. Simply pass an array with the name of each desired <code>piece-type</code>. If you want to maintain linking to internal pages, also add <code>@apostrophecms/any-page-type</code> to your array. Note that you don&#39;t need to change this setting if you just want to link to the main index page for a piece type.</p>',4),h=s("div",{class:"language-javascript"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"javascript"),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"module.exports"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#F07178"}},"options"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#F07178"}},"linkWithType"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," [ "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"@apostrophecms/any-page-type"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"article"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#A6ACCD"}}," ]")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"}")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"};")])])])],-1),g=s("h3",{id:"adding-placeholder-content",tabindex:"-1"},[e("Adding placeholder content "),s("a",{class:"header-anchor",href:"#adding-placeholder-content","aria-label":'Permalink to "Adding placeholder content"'},"â€‹")],-1),u=s("p",null,[e("By default, the rich text widget displays placeholder content. To block this behavior, set the "),s("code",null,"placeholder"),e(" option to a value of "),s("code",null,"false"),e(". To change the content, pass either a simple string or a string containing a namespaced i18n key, to the "),s("code",null,"placeholderText"),e(" option.")],-1),m=s("div",{class:"language-js"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"js"),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"module.exports"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#F07178"}},"options"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#F07178"}},"placeholderText"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"myNamespace:placeholder"),s("span",{style:{color:"#89DDFF"}},"'")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"}")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"};")])])])],-1),C=s("div",{class:"language-json"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"json"),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C792EA"}},"placeholder"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"Add text here..."),s("span",{style:{color:"#89DDFF"}},'"')]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")])])])],-1),f=l(`<h2 id="image-widget" tabindex="-1">Image widget <a class="header-anchor" href="#image-widget" aria-label="Permalink to &quot;Image widget&quot;">â€‹</a></h2><p>The image widget supports displaying a single image, including its alt text. It also uses the image variants that Apostrophe generates to responsively load image files based on the active viewport width.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// modules/@apostrophecms/home-page/index.js</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// In area field configuration options</span></span>
<span class="line"><span style="color:#FFCB6B;">widgets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@apostrophecms/image</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="specifying-a-minimum-size" tabindex="-1">Specifying a minimum size <a class="header-anchor" href="#specifying-a-minimum-size" aria-label="Permalink to &quot;Specifying a minimum size&quot;">â€‹</a></h3><p>You can specify a minimum size for any image widget:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// modules/@apostrophecms/home-page/index.js</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// In area field configuration options</span></span>
<span class="line"><span style="color:#FFCB6B;">widgets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@apostrophecms/image</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    minSize</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [ </span><span style="color:#F78C6C;">1000</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">600</span><span style="color:#F07178;"> ]</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>This widget won&#39;t allow the editor to select any image under 1000 pixels wide, or under 600 pixels tall. In addition, editors won&#39;t be able to crop the image smaller than that after selecting it for that particular widget.</p><h3 id="specifying-an-aspect-ratio" tabindex="-1">Specifying an aspect ratio <a class="header-anchor" href="#specifying-an-aspect-ratio" aria-label="Permalink to &quot;Specifying an aspect ratio&quot;">â€‹</a></h3><p>You can specify an aspect ratio for any image widget:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// modules/@apostrophecms/home-page/index.js</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// In area field configuration options</span></span>
<span class="line"><span style="color:#FFCB6B;">widgets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@apostrophecms/image</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    aspectRatio</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [ </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2</span><span style="color:#F07178;"> ]</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>In some designs, especially slideshow experiences involving multiple images, allowing images with different aspect ratios just doesn&#39;t look good. For these cases, you can set an appropriate aspect ratio.</p><p>When you set an aspect ratio, editors can still select differently shaped images. However, if they save that selection without manually cropping it, the image is automatically cropped to match the ratio you set. If the editor does choose to manually crop it, the cropping interface ensures the aspect ratio you chose remains in effect.</p><h3 id="taking-advantage-of-the-focal-point-feature" tabindex="-1">Taking advantage of the &quot;focal point&quot; feature <a class="header-anchor" href="#taking-advantage-of-the-focal-point-feature" aria-label="Permalink to &quot;Taking advantage of the &quot;focal point&quot; feature&quot;">â€‹</a></h3><p>A fixed ratio for all devices doesn&#39;t work for all designs. If your responsive design features custom CSS with different ratios at different breakpoints, consider encouraging editors to use the focal point feature as an alternative to setting <code>minSize</code>. The image widget emits CSS that biases the browser toward ensuring that the editor&#39;s chosen focal point remains visible, regardless of device.</p><h3 id="srcset" tabindex="-1">Customizing responsive image sizes <a class="header-anchor" href="#srcset" aria-label="Permalink to &quot;Customizing responsive image sizes {#srcset}&quot;">â€‹</a></h3><p>The image widget&#39;s default <code>srcset</code> attribute for responsive behavior assumes the image is roughly the same width as the viewport. This will help reduce download times even if the display size is smaller, but you can make responsive loading more accurate by providing <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-sizes" target="_blank" rel="noreferrer">the <code>sizes</code> attribute</a> value.</p><p>This configuration is applied as a template option. In the template&#39;s <code>area</code> tag, include a <code>sizes</code> <a href="/guide/areas-and-widgets.html#passing-context-options">context option</a> for the image widget. The option value should be the actual HTML attribute value.</p><div class="language-njk"><button title="Copy Code" class="copy"></button><span class="lang">njk</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">{% area data.page, &#39;main&#39; with {</span></span>
<span class="line"><span style="color:#A6ACCD;">  &#39;@apostrophecms/image&#39;: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    sizes: &#39;(min-width: 600px) 45vw, (min-width: 1140px) 530px&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">} %}</span></span></code></pre></div><p>See below for the image variant sizes that Apostrophe generates by default.</p><h3 id="specifying-the-fallback-size" tabindex="-1">Specifying the fallback size <a class="header-anchor" href="#specifying-the-fallback-size" aria-label="Permalink to &quot;Specifying the fallback size&quot;">â€‹</a></h3><p>Most browsers will use the responsive <code>srcset</code> attribute to find the right image file to display. Older browsers may need the static <code>src</code> attribute value. By default Apostrophe uses the <code>full</code> image variant, no larger than 1140px by 1140px, for the <code>src</code> value.</p><p>You can change this in the area field widget options, using another image size name.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// modules/@apostrophecms/home-page/index.js</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// In area field configuration options</span></span>
<span class="line"><span style="color:#FFCB6B;">widgets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@apostrophecms/image</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    size</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">one-half</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>The sizes available by default are:</p><table><thead><tr><th>Name</th><th>Maximum width</th><th>Maximum height</th></tr></thead><tbody><tr><td><code>max</code></td><td>1600px</td><td>1600px</td></tr><tr><td><code>full</code></td><td>1140px</td><td>1140px</td></tr><tr><td><code>two-thirds</code></td><td>760px</td><td>760px</td></tr><tr><td><code>one-half</code></td><td>570px</td><td>700px</td></tr><tr><td><code>one-third</code></td><td>380px</td><td>700px</td></tr><tr><td><code>one-sixth</code></td><td>190px</td><td>350px</td></tr></tbody></table><p>The final image size name is <code>original</code>, which delivers the original image file. This should be used carefully since it could be very large and slow to download.</p><p>You can also elect to change the default size for all image widgets by passing a named size to the <code>size</code> option in a project-level image widget configuration. This size will be overridden by a <code>size</code> set in the area widget configuration.</p>`,27),A=s("div",{class:"language-js"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"js"),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"module.exports"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#F07178"}},"options"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#F07178"}},"size"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"one-half"),s("span",{style:{color:"#89DDFF"}},"'")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"}")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")])])])],-1),b=l('<h3 id="adding-a-loading-attribute" tabindex="-1">Adding a <code>loading</code> attribute <a class="header-anchor" href="#adding-a-loading-attribute" aria-label="Permalink to &quot;Adding a `loading` attribute&quot;">â€‹</a></h3><p>You can elect to add a <code>loading</code> attribute to your image markup by passing the <code>loadingType</code> option to either the project-level image widget configuration or within the area widget configuration. This <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-loading" target="_blank" rel="noreferrer">attribute</a> can take values of <code>lazy</code> or <code>eager</code> to alter when the image is loaded onto the page. As with the <code>size</code> option, setting this option in the area widget configuration will override the value added to project-level options.</p>',2),w=s("div",{class:"language-js"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"js"),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"module.exports"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#F07178"}},"options"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#F07178"}},"loadingType"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"lazy"),s("span",{style:{color:"#89DDFF"}},"'")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"}")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")])])])],-1),x=l('<h3 id="adding-a-placeholder-image" tabindex="-1">Adding a placeholder image <a class="header-anchor" href="#adding-a-placeholder-image" aria-label="Permalink to &quot;Adding a placeholder image&quot;">â€‹</a></h3><p>The image widget displays a placeholder image by default. To block this behavior, set the <code>placeholder</code> option to a value of <code>false</code>.</p><p>Alternatively, the preview image can be changed for your project. For the image widget, the <code>placeholderImage</code> option takes <strong>just the file extension,</strong> like <code>png</code> (note no <code>.</code>). You must also copy a matching file to the <code>public</code> subdirectory of your project-level configuration of the module, e.g. copy that image to <code>/modules/@apostrophecms/image-widget/public/placeholder.png</code> (the name must be <code>placeholder</code> and the extension must match <code>placeholderImage</code>).</p>',3),v=s("div",{class:"language-js"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"js"),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"module.exports"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#F07178"}},"options"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"    "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// for a file named 'placeholder.png' in the module's project-level public folder")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#F07178"}},"placeholderImage"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"png"),s("span",{style:{color:"#89DDFF"}},"'")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"}")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"};")])])])],-1),_=l('<div class="info custom-block"><p class="custom-block-title">INFO</p><p>A legacy <code>placeholderUrl</code> option also exists, but we do not recommend it. Use <code>placeholderImage</code> and let Apostrophe do the hard work of determing the asset URL for you.</p></div><h2 id="video-widget" tabindex="-1">Video widget <a class="header-anchor" href="#video-widget" aria-label="Permalink to &quot;Video widget&quot;">â€‹</a></h2><p>The core video widget accepts a video URL and fetches the embed code to display it. Most major video hosts are supported by default.</p><h3 id="adding-a-placeholder-video" tabindex="-1">Adding a placeholder video <a class="header-anchor" href="#adding-a-placeholder-video" aria-label="Permalink to &quot;Adding a placeholder video&quot;">â€‹</a></h3><p>By default, the video widget displays a placeholder video. To block this behavior, set the <code>placeholder</code> option to a value of <code>false</code>. The default video can be changed by adding a hosted video URL string as the value of the <code>placeholderUrl</code> option. The video URL must be compatible with the video widget, e.g., a YouTube video page URL, Vimeo video page URL, etc.</p>',5),k=s("div",{class:"language-js"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"js"),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"module.exports"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#F07178"}},"options"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"{")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#F07178"}},"placeholderUrl"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"https://vimeo.com/375468729"),s("span",{style:{color:"#89DDFF"}},"'")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#89DDFF"}},"}")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"};")])])])],-1),T=l(`<h2 id="html-widget" tabindex="-1">HTML widget <a class="header-anchor" href="#html-widget" aria-label="Permalink to &quot;HTML widget&quot;">â€‹</a></h2><p><strong>Or: How to get access to the editing interface when embedded HTML breaks it.</strong></p><p>The HTML widget allows content editors to embed raw HTML directly into a template. This can be helpful if they may need to add third-party features (e.g., sign-up forms). This can also be very dangerous since there are no limits to what they can add. Bad JavaScript in embedded HTML can break the user interface, making it impossible to remove the bad code.</p><p><strong>Think carefully before providing this widget option to editors and make them aware of the risks.</strong></p><p>There is a safety mechanism in case things do go wrong. If embedded HTML breaks the Apostrophe interface, append the query parameter <code>safemode=1</code> to the end of the URL. The HTML widget will not render its contents and editors will be able to edit it to remove or fix the embed.</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">https://example.net/broken-page?safemode=1</span></span></code></pre></div><p>To do that, access the page with <code>?safemode=1</code> at the end of the URL. Then you will be able to edit the widget and remove the offending content.</p><h2 id="setting-a-css-class-on-core-widgets" tabindex="-1">Setting a CSS class on core widgets <a class="header-anchor" href="#setting-a-css-class-on-core-widgets" aria-label="Permalink to &quot;Setting a CSS class on core widgets&quot;">â€‹</a></h2><p>There are two options to set classes on core widgets. You can add a <code>className</code> option to <strong>either the widget module or the widget options in an area field</strong>. That value will be added to the outer-most HTML element in core widget templates. If both are set, the <code>className</code> property on the area configuration will be used.</p><p>Configuring on the module widget level:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// app.js</span></span>
<span class="line"><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">apostrophe</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">modules</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@apostrophecms/video-widget</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      options</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        className</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">project-video-class</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><p>Configuring on the area field widget options:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// modules/@apostrophecms/home-page/index.js</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">fields</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">add</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">main</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">area</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">options</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">widgets</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">@apostrophecms/video</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">              </span><span style="color:#F07178;">className</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">area-video-class</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div>`,13);function E(j,S,q,I,B,P){const o=p("AposCodeBlock");return c(),r("div",null,[y,n(o,null,{caption:a(()=>[e(" /modules/@apostrophecms/rich-text-widget/index.js ")]),default:a(()=>[D]),_:1}),F,n(o,null,{caption:a(()=>[e(" /modules/@apostrophecms/rich-text-widget/index.js ")]),default:a(()=>[h]),_:1}),g,u,n(o,null,{caption:a(()=>[e(" /modules/@apostrophecms/rich-text-widget/index.js ")]),default:a(()=>[m]),_:1}),n(o,null,{caption:a(()=>[e(" /modules/@apostrophecms/rich-text-widget/i18n/myNamespace/en.json ")]),default:a(()=>[C]),_:1}),f,n(o,null,{caption:a(()=>[e(" modules/@apostrophecms/image-widget/index.js ")]),default:a(()=>[A]),_:1}),b,n(o,null,{caption:a(()=>[e(" modules/@apostrophecms/image-widget/index.js ")]),default:a(()=>[w]),_:1}),x,n(o,null,{caption:a(()=>[e(" /modules/@apostrophecms/image-widget/index.js ")]),default:a(()=>[v]),_:1}),_,n(o,null,{caption:a(()=>[e(" /modules/@apostrophecms/video-widget/index.js ")]),default:a(()=>[k]),_:1}),T])}const H=t(d,[["render",E]]);export{L as __pageData,H as default};
